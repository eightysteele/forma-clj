<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>forma.trends.analysis documentation</title></head><body><div id="header"><h1><a href="index.html">Forma 0.2.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3>Namespaces</h3><ul><li><a href="forma.classify.logistic.html">forma.classify.logistic</a></li><li><a href="forma.date-time.html">forma.date-time</a></li><li><a href="forma.hadoop.cli.html">forma.hadoop.cli</a></li><li><a href="forma.hadoop.io.html">forma.hadoop.io</a></li><li><a href="forma.hadoop.jobs.forma.html">forma.hadoop.jobs.forma</a></li><li><a href="forma.hadoop.jobs.modis.html">forma.hadoop.jobs.modis</a></li><li><a href="forma.hadoop.jobs.preprocess.html">forma.hadoop.jobs.preprocess</a></li><li><a href="forma.hadoop.jobs.scatter.html">forma.hadoop.jobs.scatter</a></li><li><a href="forma.hadoop.jobs.timeseries.html">forma.hadoop.jobs.timeseries</a></li><li><a href="forma.hadoop.pail.html">forma.hadoop.pail</a></li><li><a href="forma.hadoop.predicate.html">forma.hadoop.predicate</a></li><li><a href="forma.matrix.jblas.html">forma.matrix.jblas</a></li><li><a href="forma.matrix.utils.html">forma.matrix.utils</a></li><li><a href="forma.matrix.walk.html">forma.matrix.walk</a></li><li><a href="forma.postprocess.output.html">forma.postprocess.output</a></li><li><a href="forma.postprocess.select.html">forma.postprocess.select</a></li><li><a href="forma.reproject.html">forma.reproject</a></li><li><a href="forma.schema.html">forma.schema</a></li><li><a href="forma.source.fire.html">forma.source.fire</a></li><li><a href="forma.source.hdf.html">forma.source.hdf</a></li><li><a href="forma.source.rain.html">forma.source.rain</a></li><li><a href="forma.source.static.html">forma.source.static</a></li><li><a href="forma.source.tilesets.html">forma.source.tilesets</a></li><li><a href="forma.static.html">forma.static</a></li><li><a href="forma.testing.html">forma.testing</a></li><li class="current"><a href="forma.trends.analysis.html">forma.trends.analysis</a></li><li><a href="forma.trends.filter.html">forma.trends.filter</a></li><li><a href="forma.trends.stretch.html">forma.trends.stretch</a></li><li><a href="forma.utils.html">forma.utils</a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="forma.trends.analysis.html#var-clean-tele-trends">clean-tele-trends</a></li><li><a href="forma.trends.analysis.html#var-clean-trend">clean-trend</a></li><li><a href="forma.trends.analysis.html#var-first-order-conditions">first-order-conditions</a></li><li><a href="forma.trends.analysis.html#var-grab-trend">grab-trend</a></li><li><a href="forma.trends.analysis.html#var-hansen-stat">hansen-stat</a></li><li><a href="forma.trends.analysis.html#var-hat-mat">hat-mat</a></li><li><a href="forma.trends.analysis.html#var-lengthening-ts">lengthening-ts</a></li><li><a href="forma.trends.analysis.html#var-linear-residuals">linear-residuals</a></li><li><a href="forma.trends.analysis.html#var-long-stats">long-stats</a></li><li><a href="forma.trends.analysis.html#var-moving-subvec">moving-subvec</a></li><li><a href="forma.trends.analysis.html#var-telescoping-long-trend">telescoping-long-trend</a></li><li><a href="forma.trends.analysis.html#var-telescoping-short-trend">telescoping-short-trend</a></li><li><a href="forma.trends.analysis.html#var-trend-mat">trend-mat</a></li><li><a href="forma.trends.analysis.html#var-windowed-trend">windowed-trend</a></li></ul></div><div class="namespace-docs" id="content"><h2>forma.trends.analysis documentation</h2><pre class="doc"></pre><div class="public" id="var-clean-tele-trends"><h3>clean-tele-trends</h3><div class="usage"><code>(clean-tele-trends freq start-idx end-idx spectral-ts reli-ts)</code></div><pre class="doc">clean trends (i.e., filter out bad values and remove seasonal
component) for each intervening time period between `start-idx` and
`end-idx`.

TODO: THIS is the most time-intensive function of all the trend
analysis.</pre></div><div class="public" id="var-clean-trend"><h3>clean-trend</h3><div class="usage"><code>(clean-trend freq spectral-ts reli-ts)</code></div><pre class="doc">filter out bad values and remove seasonal component for a spectral
time series (with frequency `freq`) using information in an
associated reliability time series</pre></div><div class="public" id="var-first-order-conditions"><h3>first-order-conditions</h3><div class="usage"><code>(first-order-conditions coll)</code></div><pre class="doc">returns a matrix with residual weighted cofactors (incl. constant
vector) and deviations from mean; corresponds to first-order
conditions $f_t$ in the following reference: Hansen, B. (1992)
Testing for Parameter Instability in Linear Models, Journal for
Policy Modeling, 14(4), pp. 517-533</pre></div><div class="public" id="var-grab-trend"><h3>grab-trend</h3><div class="usage"><code>(grab-trend hat-mat sub-coll)</code></div><pre class="doc">returns the trend from an ordinary least squares regression of a
spectral time series on an intercept and a trend variable</pre></div><div class="public" id="var-hansen-stat"><h3>hansen-stat</h3><div class="usage"><code>(hansen-stat coll)</code></div><pre class="doc">returns the Hansen (1992) test statistic, based on (1) the first-order
conditions, and (2) the cumulative first-order conditions.</pre></div><div class="public" id="var-hat-mat"><h3>hat-mat</h3><div class="usage"><code>(hat-mat block-len)</code></div><pre class="doc">returns hat matrix for a trend cofactor matrix of length
`block-len`, used to calculate the coefficient vector for ordinary
least squares</pre></div><div class="public" id="var-lengthening-ts"><h3>lengthening-ts</h3><div class="usage"><code>(lengthening-ts start-index end-index base-seq)</code></div><pre class="doc">create a sequence of sequences, where each incremental sequence is
one element longer than the last, pinned to the same starting
element.</pre></div><div class="public" id="var-linear-residuals"><h3>linear-residuals</h3><div class="usage"><code>(linear-residuals y x &amp; {:keys [intercept], :or {intercept true}})</code></div><pre class="doc">returns the residuals from a linear model; cribbed from
incanter.stats linear model</pre></div><div class="public" id="var-long-stats"><h3>long-stats</h3><div class="usage"><code>(long-stats ts &amp; cofactors)</code></div><pre class="doc">returns a list with both the value and t-statistic for the OLS
trend coefficient for a time series, conditioning on a variable
number of cofactors</pre></div><div class="public" id="var-moving-subvec"><h3>moving-subvec</h3><div class="usage"><code>(moving-subvec window coll)</code></div><pre class="doc">returns a vector of incanter sub-matrices, offset by 1 and of
length `window`; works like partition for non-incanter data
structures.</pre></div><div class="public" id="var-telescoping-long-trend"><h3>telescoping-long-trend</h3><div class="usage"><code>(telescoping-long-trend freq start-idx end-idx spectral-ts reli-ts cofactor-ts)</code></div><pre class="doc">returns a three-tuple with the trend coefficient, trend t-stat, and
the hansen statistic for each period between `start-idx` (inclusive)
and `end-idx` (inclusive).</pre></div><div class="public" id="var-telescoping-short-trend"><h3>telescoping-short-trend</h3><div class="usage"><code>(telescoping-short-trend long-block short-block freq training-end end-idx spectral-ts reli-ts)</code></div><pre class="doc">returns a vector of the short-term trend coefficients over time
series blocks of length `long-block`, smoothed by moving average
window of length `short-block`. The coefficients are calculated
along the entire time-series, but only apply to periods at and after
the end of the training period.</pre></div><div class="public" id="var-trend-mat"><h3>trend-mat</h3><div class="usage"><code>(trend-mat len)</code></div><pre class="doc">returns a (`len` x 2) matrix, with first column of ones; and second
column of 1 through `len`</pre></div><div class="public" id="var-windowed-trend"><h3>windowed-trend</h3><div class="usage"><code>(windowed-trend block-len freq spectral-ts reli-ts)</code></div><pre class="doc">returns a vector of short-term trend coefficients of block length
`block-len`</pre></div></div></body></html>